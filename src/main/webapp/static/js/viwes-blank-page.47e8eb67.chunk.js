(this["webpackJsonpgogo-react"]=this["webpackJsonpgogo-react"]||[]).push([[15],{106:function(e,t,n){"use strict";n(8);var a=n(261),c=n(262),r=n(93),s=n(95),o=n(11),u=n(24),i=function(e){return"/".concat(e)===o.a?Object(u.jsx)(s.a,{id:"menu.home"}):Object(u.jsx)(s.a,{id:"menu.".concat(e)})},l=function(e,t){return e.split(t)[0]+t},d=function(e){var t=e.match.path.substr(1),n=t.split("/");return n[n.length-1].indexOf(":")>-1&&(n=n.filter((function(e){return-1===e.indexOf(":")}))),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(a.a,{className:"pt-0 breadcrumb-container d-none d-sm-block d-lg-inline-block",children:n.map((function(e,a){return Object(u.jsx)(c.a,{active:n.length===a+1,children:n.length!==a+1?Object(u.jsx)(r.b,{to:"/".concat(l(t,e)),children:i(e)}):i(e)},a)}))})})};t.a=function(e){var t=e.heading,n=e.match;return Object(u.jsxs)(u.Fragment,{children:[t&&Object(u.jsx)("h1",{children:Object(u.jsx)(s.a,{id:t})}),Object(u.jsx)(d,{match:n})]})}},158:function(e,t,n){"use strict";var a=n(91),c=n(8),r=n(86),s=n.n(r),o=n(136),u=n(1),i=n(143),l=n(102),d=n(382),j=n(370),b=n(371),O=n(191),h=n(281),f=n(388),x=n(372),p=n(99),m=n(24),g=function(e){var t=e.modalOpen,n=e.toggleModal,r=e.type,s=void 0===r?"query":r,g=e.code,v=Object(c.useState)({name:""}),R=Object(a.a)(v,2),y=R[0],C=R[1],N=Object(c.useState)(""),S=Object(a.a)(N,2),w=S[0],E=S[1],T=Object(c.useState)(!1),k=Object(a.a)(T,2),U=k[0],F=k[1],D=Object(c.useState)({ca:"",exam:"",total:"",session:{session:{session:""}}}),q=Object(a.a)(D,2),A=q[0],I=q[1];return Object(m.jsxs)(d.a,{isOpen:t,toggle:n,wrapClassName:"modal-right",backdrop:"static",children:[Object(m.jsx)(j.a,{toggle:n,children:"query"===s?"QUERY RESULT/CORRECTION":"UPLOAD RESULT"}),"query"!==s&&Object(m.jsxs)(b.a,{children:[Object(m.jsx)(O.a,{className:"mt-4",children:Object(m.jsx)("h3",{children:Object(m.jsx)("b",{children:"Note:"})})}),Object(m.jsx)(h.a,{type:"textarea",name:"text",id:"exampleText",value:"Rows with irrelevant or invalid data types are ignored"}),Object(m.jsx)(O.a,{className:"mt-4",children:Object(m.jsx)("b",{children:"Course Result File"})}),Object(m.jsx)(f.a,{type:"file",id:"exCustomRadio",name:"customRadio",label:"File",onChange:function(e){return C(e.target.files[0])}}),Object(m.jsx)("span",{children:Object(m.jsx)("b",{children:y.name})})]}),"query"===s&&Object(m.jsxs)(b.a,{children:[Object(m.jsx)(O.a,{className:"mt-4",children:"Matric Number"}),Object(m.jsx)(h.a,{type:"text",name:"text",id:"exampleText",value:w,onChange:function(e){return E(e.target.value)}}),Object(m.jsx)(O.a,{className:"mt-4",children:"Course"}),Object(m.jsx)(h.a,{type:"text",name:"text",id:"exampleText",value:g,onChange:function(e){return E(e.target.value)},disabled:!0}),Object(m.jsx)(O.a,{className:"mt-4",children:"Session"}),Object(m.jsx)(h.a,{type:"text",name:"text",id:"exampleText",value:A.session.session.session,onChange:function(e){return I(Object(u.a)(Object(u.a)({},A),{},{session:{session:{session:e.target.value}}}))}}),Object(m.jsx)(O.a,{className:"mt-4",children:"CA"}),Object(m.jsx)(h.a,{type:"text",name:"text",id:"exampleText",value:A.ca,onChange:function(e){return I(Object(u.a)(Object(u.a)({},A),{},{ca:e.target.value}))},disabled:!0}),Object(m.jsx)(O.a,{className:"mt-4",children:"Exam"}),Object(m.jsx)(h.a,{type:"text",name:"text",id:"exampleText",value:A.exam,onChange:function(e){return I(Object(u.a)(Object(u.a)({},A),{},{exam:e.target.value}))},disabled:!0}),Object(m.jsx)(O.a,{className:"mt-4",children:"Total"}),Object(m.jsx)(h.a,{type:"text",name:"text",id:"exampleText",value:A.total,onChange:function(e){return I(Object(u.a)(Object(u.a)({},A),{},{total:e.target.value}))}})]}),Object(m.jsxs)(x.a,{children:[Object(m.jsx)(o.a,{color:"secondary",outline:!0,onClick:n,children:"Close"}),Object(m.jsx)(o.a,{color:"primary",onClick:function(){if("query"===s){if(!w||!g||!A.session.session.session)return void l.b.error("Empty Field(s)","ERROR",2e3,null,null);l.b.info("Request sent, please wait","INFO",2e3,null,null),F(!0),p.b(w,g).then((function(e){F(!1);var t,n=Object(i.a)(e.data);try{for(n.s();!(t=n.n()).done;){var a=t.value;return a.session.session.session===A.session.session.session?(l.b.success("Result Found","Success",2e3,null,null),void I(a)):void l.b.error("No Result found for the specified session","ERROR",2e3,null,null)}}catch(c){n.e(c)}finally{n.f()}l.b.error("No Result Found","ERROR",2e3,null,null)})).catch((function(e){F(!1),l.b.error("No Result Found","ERROR",2e3,null,null)}))}else{if("text/csv"!==y.type)return window.scrollTo(0,0),void l.b.error("Only .csv extension file is allowed","ERROR",2e3,null,null);var e=new FormData;e.append("file",y),p.p(e).then((function(e){F(!1),l.b.success("Result upload successful","Success",5e3,null,null)})).catch((function(e){F(!1),l.b.error("Result upload failed","Error",5e3,null,null)}))}},disabled:U,children:"query"===s?"Query":"Upload"}),"query"===s&&Object(m.jsx)(o.a,{color:"warning",onClick:function(){F(!0),p.l(A).then((function(e){F(!1),l.b.success("Result updated successfully","SUCCESS",2e3,null,null)})).catch((function(e){F(!1),l.b.error("Result updation failed","ERROR",2e3,null,null)}))},disabled:U,children:"Update Result"})]})]})};t.a=function(e){var t=e.data,n=e.user,r=void 0===n?"operator":n;Object(c.useEffect)((function(){}));var u=Object(c.useState)(!1),i=Object(a.a)(u,2),l=i[0],d=i[1],j=Object(c.useState)(),b=Object(a.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(),x=Object(a.a)(f,2),v=x[0],R=x[1],y="operator"===r?["S/N","Course Code","Course Title","Course Unit","Query Result","Download Upload File"]:["S/N","Course Code","Course Title","Course Unit"];return Object(m.jsxs)(m.Fragment,{children:["operator"===r&&Object(m.jsx)(o.a,{onClick:function(){d(!0),R("upload")},className:"float-right",children:"Upload Result"}),Object(m.jsx)("h4",{className:"float-left",children:Object(m.jsx)("b",{children:"Courses"})}),Object(m.jsxs)("table",{className:"r-table table ".concat(s()({"table-divided":!0})),children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:y.map((function(e){return Object(m.jsx)("th",{className:"sorted-asc",children:e})}))})}),Object(m.jsx)("tbody",{children:t.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:t+1}),Object(m.jsx)("td",{children:e.courseCode}),Object(m.jsx)("td",{children:e.courseTitle}),Object(m.jsx)("td",{children:e.courseUnit}),"operator"===r&&Object(m.jsx)("td",{children:Object(m.jsx)(o.a,{onClick:function(){return function(e){h(e),R("query"),d(!0)}(e.courseCode)},children:"Query Result "})}),"operator"===r&&Object(m.jsx)("td",{children:Object(m.jsx)(o.a,{onClick:function(){return function(e){p.d(e).then((function(t){var n=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=n,a.setAttribute("download",e+".csv"),document.body.appendChild(a),a.click()}))}(e.courseCode)},children:"Download"})})]})}))})]}),Object(m.jsx)(g,{modalOpen:l,toggleModal:function(){d(!1)},code:O,type:v})]})}},369:function(e,t,n){"use strict";n.r(t);var a=n(91),c=n(8),r=n(141),s=n(94),o=n(106),u=n(108),i=n(158),l=n(24),d=function(){var e=(new Date).getHours();return e<12?"Good Morning":e>12&&e<16?"Good Afternoon":"Good Evening"};t.default=function(e){var t=e.match,n=Object(c.useContext)(u.context),j=Object(a.a)(n,2),b=j[0];j[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(r.a,{children:Object(l.jsxs)(s.a,{xxs:"12",children:[Object(l.jsx)(o.a,{heading:"menu.blank-page",match:t}),Object(l.jsx)(s.b,{className:"mb-5"})]})}),Object(l.jsx)(r.a,{children:Object(l.jsxs)(s.a,{xxs:"12",className:"mb-4",children:[Object(l.jsx)("p",{children:Object(l.jsxs)("h2",{children:[d(),", ",b.odata.firstname]})}),Object(l.jsx)(i.a,{data:b.odata.courseList})]})})]})}},99:function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return i})),n.d(t,"q",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"b",(function(){return j})),n.d(t,"l",(function(){return b})),n.d(t,"p",(function(){return O})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"n",(function(){return x})),n.d(t,"m",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"k",(function(){return R})),n.d(t,"f",(function(){return y}));var a=n(1),c=n(125),r=n.n(c),s="/api",o=(JSON.parse(sessionStorage.getItem("data")),function(e){if("student"===e.role){var t={matric:e.username,password:e.password,flag:e.role};return r.a.post("".concat(s,"/auth/login"),t)}if("course_operator"===e.role){var n={id:e.username,password:e.password,flag:e.role};return r.a.post("".concat(s,"/auth/login"),n)}return r.a.get("".concat(s,"/auth/login/admin"),{headers:{Authorization:"Basic ".concat(btoa("".concat(e.username,":").concat(e.password)))}})}),u=function(e){return r.a.get("".concat(s,"/student/").concat(e))},i=function(e){return r.a.get("".concat(s,"/student/get/").concat(e))},l=function(){return r.a.get("".concat(s,"/entryyear"))},d=function(e){return"student"===e.role?(delete e.role,delete e.staffId,delete e.status,r.a.post("".concat(s,"/student"),e)):(delete e.role,delete e.matricNumber,delete e.othername,delete e.yearOfEntry,delete e.status,r.a.post("".concat(s,"/courseoperator"),e))},j=function(e,t){return r.a.get("".concat(s,"/result/").concat(e,"/").concat(t))},b=function(e){return r.a.post("".concat(s,"/result"),e)},O=function(e){var t={headers:{Authorization:"Bearer ".concat(JSON.parse(sessionStorage.getItem("data")).auth)}};return r.a.post("".concat(s,"/result/course/upload"),e,t)},h=function(){return r.a.get("".concat(s,"/courseoperator"))},f=function(e){return r.a.get("".concat(s,"/courseoperator/").concat(e,"/student"),{responseType:"blob"})},x=function(e){return r.a.post("".concat(s,"/course"),e)},p=function(e){return r.a.post("".concat(s,"/courseoperator/allocate"),e)},m=function(e){return r.a.post("".concat(s,"/currentsession/course/upload"),e)},g=function(e){var t=Object(a.a)(Object(a.a)({},e),{},{startDate:Date.parse(e.startDate),closeDate:Date.parse(e.closeDate)});return r.a.post("".concat(s,"/currentsession"),t,{headers:{Authorization:"Basic ".concat(JSON.parse(sessionStorage.getItem("data")).auth)}})},v=function(e){return r.a.put("".concat(s,"/currentsession/").concat(e),{headers:{Authorization:"Basic ".concat(JSON.parse(sessionStorage.getItem("data")).auth)}})},R=function(){return r.a.get("".concat(s,"/auth/login/admin"),{headers:{Authorization:"Basic ".concat(JSON.parse(sessionStorage.getItem("data")).auth)}})},y=function(e,t){return r.a.get("".concat(s,"/auth/result/").concat(e,"/").concat(t),{headers:{Authorization:"Basic ".concat(JSON.parse(sessionStorage.getItem("data")).auth)}})}}}]);