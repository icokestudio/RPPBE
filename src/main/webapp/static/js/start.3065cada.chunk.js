(this["webpackJsonpgogo-react"]=this["webpackJsonpgogo-react"]||[]).push([[7],{106:function(e,t,n){"use strict";n(8);var c=n(261),a=n(262),s=n(93),r=n(95),l=n(11),o=n(24),i=function(e){return"/".concat(e)===l.a?Object(o.jsx)(r.a,{id:"menu.home"}):Object(o.jsx)(r.a,{id:"menu.".concat(e)})},u=function(e,t){return e.split(t)[0]+t},j=function(e){var t=e.match.path.substr(1),n=t.split("/");return n[n.length-1].indexOf(":")>-1&&(n=n.filter((function(e){return-1===e.indexOf(":")}))),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(c.a,{className:"pt-0 breadcrumb-container d-none d-sm-block d-lg-inline-block",children:n.map((function(e,c){return Object(o.jsx)(a.a,{active:n.length===c+1,children:n.length!==c+1?Object(o.jsx)(s.b,{to:"/".concat(u(t,e)),children:i(e)}):i(e)},c)}))})})};t.a=function(e){var t=e.heading,n=e.match;return Object(o.jsxs)(o.Fragment,{children:[t&&Object(o.jsx)("h1",{children:Object(o.jsx)(r.a,{id:t})}),Object(o.jsx)(j,{match:n})]})}},158:function(e,t,n){"use strict";var c=n(91),a=n(8),s=n(86),r=n.n(s),l=n(136),o=n(1),i=n(143),u=n(102),j=n(382),d=n(370),b=n(371),O=n(191),h=n(281),x=n(388),f=n(372),m=n(99),p=n(24),g=function(e){var t=e.modalOpen,n=e.toggleModal,s=e.type,r=void 0===s?"query":s,g=e.code,R=Object(a.useState)({name:""}),v=Object(c.a)(R,2),C=v[0],N=v[1],S=Object(a.useState)(""),y=Object(c.a)(S,2),w=y[0],D=y[1],E=Object(a.useState)(!1),U=Object(c.a)(E,2),F=U[0],k=U[1],T=Object(a.useState)({ca:"",exam:"",total:"",session:{session:{session:""}}}),A=Object(c.a)(T,2),q=A[0],I=A[1];return Object(p.jsxs)(j.a,{isOpen:t,toggle:n,wrapClassName:"modal-right",backdrop:"static",children:[Object(p.jsx)(d.a,{toggle:n,children:"query"===r?"QUERY RESULT/CORRECTION":"UPLOAD RESULT"}),"query"!==r&&Object(p.jsxs)(b.a,{children:[Object(p.jsx)(O.a,{className:"mt-4",children:Object(p.jsx)("h3",{children:Object(p.jsx)("b",{children:"Note:"})})}),Object(p.jsx)(h.a,{type:"textarea",name:"text",id:"exampleText",value:"Rows with irrelevant or invalid data types are ignored"}),Object(p.jsx)(O.a,{className:"mt-4",children:Object(p.jsx)("b",{children:"Course Result File"})}),Object(p.jsx)(x.a,{type:"file",id:"exCustomRadio",name:"customRadio",label:"File",onChange:function(e){return N(e.target.files[0])}}),Object(p.jsx)("span",{children:Object(p.jsx)("b",{children:C.name})})]}),"query"===r&&Object(p.jsxs)(b.a,{children:[Object(p.jsx)(O.a,{className:"mt-4",children:"Matric Number"}),Object(p.jsx)(h.a,{type:"text",name:"text",id:"exampleText",value:w,onChange:function(e){return D(e.target.value)}}),Object(p.jsx)(O.a,{className:"mt-4",children:"Course"}),Object(p.jsx)(h.a,{type:"text",name:"text",id:"exampleText",value:g,onChange:function(e){return D(e.target.value)},disabled:!0}),Object(p.jsx)(O.a,{className:"mt-4",children:"Session"}),Object(p.jsx)(h.a,{type:"text",name:"text",id:"exampleText",value:q.session.session.session,onChange:function(e){return I(Object(o.a)(Object(o.a)({},q),{},{session:{session:{session:e.target.value}}}))}}),Object(p.jsx)(O.a,{className:"mt-4",children:"CA"}),Object(p.jsx)(h.a,{type:"text",name:"text",id:"exampleText",value:q.ca,onChange:function(e){return I(Object(o.a)(Object(o.a)({},q),{},{ca:e.target.value}))},disabled:!0}),Object(p.jsx)(O.a,{className:"mt-4",children:"Exam"}),Object(p.jsx)(h.a,{type:"text",name:"text",id:"exampleText",value:q.exam,onChange:function(e){return I(Object(o.a)(Object(o.a)({},q),{},{exam:e.target.value}))},disabled:!0}),Object(p.jsx)(O.a,{className:"mt-4",children:"Total"}),Object(p.jsx)(h.a,{type:"text",name:"text",id:"exampleText",value:q.total,onChange:function(e){return I(Object(o.a)(Object(o.a)({},q),{},{total:e.target.value}))}})]}),Object(p.jsxs)(f.a,{children:[Object(p.jsx)(l.a,{color:"secondary",outline:!0,onClick:n,children:"Close"}),Object(p.jsx)(l.a,{color:"primary",onClick:function(){if("query"===r){if(!w||!g||!q.session.session.session)return void u.b.error("Empty Field(s)","ERROR",2e3,null,null);u.b.info("Request sent, please wait","INFO",2e3,null,null),k(!0),m.b(w,g).then((function(e){k(!1);var t,n=Object(i.a)(e.data);try{for(n.s();!(t=n.n()).done;){var c=t.value;return c.session.session.session===q.session.session.session?(u.b.success("Result Found","Success",2e3,null,null),void I(c)):void u.b.error("No Result found for the specified session","ERROR",2e3,null,null)}}catch(a){n.e(a)}finally{n.f()}u.b.error("No Result Found","ERROR",2e3,null,null)})).catch((function(e){k(!1),u.b.error("No Result Found","ERROR",2e3,null,null)}))}else{if("text/csv"!==C.type)return window.scrollTo(0,0),void u.b.error("Only .csv extension file is allowed","ERROR",2e3,null,null);var e=new FormData;e.append("file",C),m.p(e).then((function(e){k(!1),u.b.success("Result upload successful","Success",5e3,null,null)})).catch((function(e){k(!1),u.b.error("Result upload failed","Error",5e3,null,null)}))}},disabled:F,children:"query"===r?"Query":"Upload"}),"query"===r&&Object(p.jsx)(l.a,{color:"warning",onClick:function(){k(!0),m.l(q).then((function(e){k(!1),u.b.success("Result updated successfully","SUCCESS",2e3,null,null)})).catch((function(e){k(!1),u.b.error("Result updation failed","ERROR",2e3,null,null)}))},disabled:F,children:"Update Result"})]})]})};t.a=function(e){var t=e.data,n=e.user,s=void 0===n?"operator":n;Object(a.useEffect)((function(){}));var o=Object(a.useState)(!1),i=Object(c.a)(o,2),u=i[0],j=i[1],d=Object(a.useState)(),b=Object(c.a)(d,2),O=b[0],h=b[1],x=Object(a.useState)(),f=Object(c.a)(x,2),R=f[0],v=f[1],C="operator"===s?["S/N","Course Code","Course Title","Course Unit","Query Result","Download Upload File"]:["S/N","Course Code","Course Title","Course Unit"];return Object(p.jsxs)(p.Fragment,{children:["operator"===s&&Object(p.jsx)(l.a,{onClick:function(){j(!0),v("upload")},className:"float-right",children:"Upload Result"}),Object(p.jsx)("h4",{className:"float-left",children:Object(p.jsx)("b",{children:"Courses"})}),Object(p.jsxs)("table",{className:"r-table table ".concat(r()({"table-divided":!0})),children:[Object(p.jsx)("thead",{children:Object(p.jsx)("tr",{children:C.map((function(e){return Object(p.jsx)("th",{className:"sorted-asc",children:e})}))})}),Object(p.jsx)("tbody",{children:t.map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:t+1}),Object(p.jsx)("td",{children:e.courseCode}),Object(p.jsx)("td",{children:e.courseTitle}),Object(p.jsx)("td",{children:e.courseUnit}),"operator"===s&&Object(p.jsx)("td",{children:Object(p.jsx)(l.a,{onClick:function(){return function(e){h(e),v("query"),j(!0)}(e.courseCode)},children:"Query Result "})}),"operator"===s&&Object(p.jsx)("td",{children:Object(p.jsx)(l.a,{onClick:function(){return function(e){m.d(e).then((function(t){var n=window.URL.createObjectURL(new Blob([t.data])),c=document.createElement("a");c.href=n,c.setAttribute("download",e+".csv"),document.body.appendChild(c),c.click()}))}(e.courseCode)},children:"Download"})})]})}))})]}),Object(p.jsx)(g,{modalOpen:u,toggleModal:function(){j(!1)},code:O,type:R})]})}},341:function(e,t,n){"use strict";n.r(t);var c=n(132),a=n(143),s=n(91),r=n(8),l=n(86),o=n.n(l),i=n(141),u=n(388),j=n(281),d=n(136),b=n(94),O=n(106),h=n(99),x=n(102),f=n(24);t.default=function(e){var t=e.match,n=Object(r.useState)(!1),l=Object(s.a)(n,2),m=l[0],p=l[1],g=Object(r.useState)([]),R=Object(s.a)(g,2),v=R[0],C=R[1],N=Object(r.useState)(""),S=Object(s.a)(N,2),y=S[0],w=S[1],D=Object(r.useState)(""),E=Object(s.a)(D,2),U=E[0],F=E[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(i.a,{children:Object(f.jsxs)(b.a,{xxs:"12",children:[Object(f.jsx)(O.a,{heading:"menu.results",match:t}),Object(f.jsx)(b.b,{className:"mb-5"})]})}),Object(f.jsxs)(i.a,{className:"float-right",children:[Object(f.jsx)(u.a,{className:"itemCheck mb-0 mx-2",type:"checkbox",checked:m,onChange:function(e){return p(!m)},label:"Corrected Result Only"}),Object(f.jsx)("div",{className:"mb-1 mx-2",children:Object(f.jsx)(j.a,{type:"text",placeholder:"session (e.g 2014-2015)",value:U,onChange:function(e){return F(e.target.value)}})}),Object(f.jsx)("div",{className:"mb-1 mx-2",children:Object(f.jsx)(j.a,{type:"text",placeholder:"course (e.g CSC201)",value:y,onChange:function(e){return w(e.target.value)}})}),Object(f.jsx)(d.a,{onClick:function(){h.f(U,y).then((function(e){C(e.data)})).catch((function(e){return x.b.error("Error fecthing result","ERROR",2e3,null,null)}))},className:"float-right",children:"Get Results"})]}),Object(f.jsx)(f.Fragment,{children:v.length>0&&Object(f.jsxs)("table",{className:"r-table table ".concat(o()({"table-divided":!0})),children:[Object(f.jsx)("thead",{children:Object(f.jsx)("tr",{children:["Course Code","Course Title","Course Unit","Matric Number","Score","Grade"].map((function(e){return Object(f.jsx)("th",{className:"sorted-asc",children:e})}))})}),Object(f.jsx)("tbody",{children:function(){if(!m)return v;var e,t=[],n=Object(a.a)(v);try{for(n.s();!(e=n.n()).done;){var s=e.value;s.ca+s.exam!==s.total&&(t=[].concat(Object(c.a)(t),[s]))}}catch(r){n.e(r)}finally{n.f()}return t}().map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.course.courseCode}),Object(f.jsx)("td",{children:e.course.courseTitle}),Object(f.jsx)("td",{children:e.course.courseUnit}),Object(f.jsx)("td",{children:e.student.matricNumber}),Object(f.jsx)("td",{children:e.total}),Object(f.jsx)("td",{children:e.grade})]})}))})]})})]})}},352:function(e,t,n){"use strict";n.r(t);var c=n(8),a=n(141),s=n(94),r=n(106),l=n(1),o=n(91),i=n(124),u=n(295),j=n(142),d=n(281),b=n(136),O=n(296),h=n.n(O),x=(n(294),n(158)),f=n(99),m=n(102),p=n(24),g=function(){var e=Object(c.useState)({session:"",startDate:new Date,closeDate:new Date}),t=Object(o.a)(e,2),n=t[0],r=t[1],O=Object(c.useState)(0),g=Object(o.a)(O,2),R=g[0],v=g[1],C=Object(c.useState)(null),N=Object(o.a)(C,2),S=N[0],y=N[1],w=Object(c.useState)(null),D=Object(o.a)(w,2),E=D[0],U=D[1],F=Object(c.useState)(null),k=Object(o.a)(F,2),T=k[0],A=k[1],q=Object(c.useState)(!0),I=Object(o.a)(q,2),J=I[0],B=I[1],z=function(){v(Math.random())},L=Object(c.useState)({operator:0,student:0,session:{semester:{name:""},session:{session:""}}}),M=Object(o.a)(L,2),Q=M[0],G=M[1],W=Object(c.useState)([]),H=Object(o.a)(W,2),P=H[0],Y=H[1];Object(c.useEffect)((function(){f.c().then((function(e){Y(e.data)})),f.k().then((function(e){G(e.data.data)}))}),[R]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(a.a,{children:[Object(p.jsx)(s.a,{xxs:"12",xl:"8",className:"mb-4",children:Object(p.jsx)(i.a,{children:Object(p.jsxs)(u.a,{children:[Object(p.jsx)(j.a,{children:"Create New Session"}),Object(p.jsx)("label",{children:"Session (e.g 2019/2020)"}),Object(p.jsx)("div",{className:"mb-5",children:Object(p.jsx)(d.a,{type:"text",value:n.session,onChange:function(e){return r(Object(l.a)(Object(l.a)({},n),{},{session:e.target.value}))}})}),Object(p.jsxs)(a.a,{className:"mb-5",children:[Object(p.jsxs)(s.a,{xxs:"6",children:[Object(p.jsx)("label",{children:"Result Opening Date"}),Object(p.jsx)(h.a,{selected:n.startDate,onChange:function(e){return r(Object(l.a)(Object(l.a)({},n),{},{startDate:e}))},placeholderText:"Result Upload Opening Date"})]}),Object(p.jsxs)(s.a,{xxs:"6",children:[Object(p.jsx)("label",{children:"Result Closing Date"}),Object(p.jsx)(h.a,{selected:n.closeDate,onChange:function(e){return r(Object(l.a)(Object(l.a)({},n),{},{closeDate:e}))},placeholderText:"Result Upload Opening Date"})]})]}),Object(p.jsx)(b.a,{onClick:function(){Date.parse(n.startDate)>Date.parse(n.closeDate)?m.b.error("Close Date cannot preceed Start Date","ERROR",2e3,null,null):""!==n.session?f.a(n).then((function(e){z(),m.b.success("We are now in a new Session","Success",2e3,null,null)})).catch((function(e){m.b.error("Session creation failed","ERROR",2e3,null,null)})):m.b.error("Session Name cannot be empty","ERROR",2e3,null,null)},className:"float-right",children:"Create Session"})]})})}),Object(p.jsxs)(s.a,{xxs:"12",xl:"4",className:"mb-4",children:[Object(p.jsxs)(a.a,{children:[Object(p.jsx)(s.a,{xxs:"12",xl:"6",className:"mb-4",children:Object(p.jsx)(a.a,{children:Object(p.jsx)(i.a,{className:"h-100 w-100",children:Object(p.jsx)(u.a,{children:Object(p.jsx)(j.a,{children:Object(p.jsxs)("h2",{children:[Object(p.jsxs)("b",{children:["  ",Q.operator]})," Course Operator(s)"]})})})})})}),Object(p.jsx)(s.a,{xxs:"12",xl:"6",className:"mb-4",children:Object(p.jsx)(a.a,{children:Object(p.jsx)(i.a,{className:"h-100 w-100",children:Object(p.jsx)(u.a,{children:Object(p.jsx)(j.a,{children:Object(p.jsxs)("h2",{children:[Object(p.jsx)("b",{children:Q.student})," Student(s)"]})})})})})})]}),Object(p.jsx)(a.a,{children:Object(p.jsx)(i.a,{className:"h-100 w-100",children:Object(p.jsxs)(u.a,{children:[Object(p.jsxs)(j.a,{children:[Object(p.jsx)("h2",{children:Object(p.jsx)("b",{children:Q.session.session.session})}),Object(p.jsx)("h3",{children:Q.session.semester.name})]}),Object(p.jsx)(b.a,{onClick:function(){f.i(2).then((function(e){z(),m.b.success("We are now in a new Semester","Success",2e3,null,null)})).catch((function(e){m.b.error("Semester changed Failed","ERROR",2e3,null,null)}))},className:"float-right",children:"Next Semester"})]})})})]})]}),Object(p.jsxs)(a.a,{children:[Object(p.jsx)(s.a,{xxs:"12",xl:"4",className:"mb-4",children:Object(p.jsx)(i.a,{className:"h-100",children:Object(p.jsxs)(u.a,{children:[Object(p.jsx)(j.a,{children:"Upload Course Allocation file (.csv)"}),Object(p.jsx)(d.a,{type:"file",onChange:function(e){return U(e.target.files[0])}}),Object(p.jsx)(b.a,{onClick:function(){if(null!==E&&"text/csv"===E.type){var e=new FormData;e.append("file",E),f.m(e).then((function(e){z(),m.b.success("Upload Successful","Success",2e3,null,null)})).catch((function(e){m.b.error("Upload Failed","ERROR",2e3,null,null)}))}else m.b.error("Only .csv extension file is allowed","ERROR",2e3,null,null)},className:"float-right",children:"Upload"})]})})}),Object(p.jsx)(s.a,{xxs:"12",xl:"4",className:"mb-4",children:Object(p.jsx)(i.a,{className:"h-100",children:Object(p.jsxs)(u.a,{children:[Object(p.jsx)(j.a,{children:"Upload Student Registration file (.csv)"}),Object(p.jsx)(d.a,{type:"file",onChange:function(e){return y(e.target.files[0])}}),Object(p.jsx)(b.a,{onClick:function(){if(null!==S&&"text/csv"===S.type){var e=new FormData;e.append("file",S),f.o(e).then((function(e){z(),m.b.success("Upload Successful","Success",2e3,null,null)})).catch((function(e){m.b.error("Upload Failed","ERROR",2e3,null,null)}))}else m.b.error("Only .csv extension file is allowed","ERROR",2e3,null,null)},className:"float-right",children:"Upload"})]})})}),Object(p.jsx)(s.a,{xxs:"12",xl:"4",className:"mb-4",children:Object(p.jsx)(i.a,{className:"h-100",children:Object(p.jsxs)(u.a,{children:[Object(p.jsx)(j.a,{children:"Upload Course Details file (.csv)"}),Object(p.jsx)(d.a,{type:"file",onChange:function(e){return A(e.target.files[0])}}),Object(p.jsx)(b.a,{onClick:function(){if(null!==T&&"text/csv"===T.type){var e=new FormData;e.append("file",T),f.n(e).then((function(e){z(),m.b.success("Upload Successful","Success",2e3,null,null)})).catch((function(e){m.b.error("Upload Failed","ERROR",2e3,null,null)}))}else m.b.error("Only .csv extension file is allowed","ERROR",2e3,null,null)},className:"float-right",children:"Upload"})]})})})]}),Object(p.jsxs)(b.a,{className:"mr-5",onClick:function(){B(!J)},children:[J?"Show":"Hide"," Course Allocations"]}),!J&&Object(p.jsx)(p.Fragment,{children:P.map((function(e){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(a.a,{children:[Object(p.jsx)("h5",{children:Object(p.jsxs)("b",{children:[" ","".concat(e.firstname," ").concat(e.lastname),"'s "]})}),Object(p.jsx)(x.a,{data:e.courseList,user:"admin"})]})})}))})]})};t.default=function(e){var t=e.match;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(a.a,{children:Object(p.jsxs)(s.a,{xxs:"12",children:[Object(p.jsx)(r.a,{heading:"menu.start",match:t}),Object(p.jsx)(s.b,{className:"mb-5"})]})}),Object(p.jsx)(a.a,{children:Object(p.jsx)(s.a,{xxs:"12",className:"mb-4",children:Object(p.jsx)("h2",{children:Object(p.jsx)("b",{children:"Administrative Console"})})})}),Object(p.jsx)(a.a,{children:Object(p.jsx)(s.a,{xxs:"12",className:"mb-4",children:Object(p.jsx)(g,{})})})]})}},99:function(e,t,n){"use strict";n.d(t,"h",(function(){return l})),n.d(t,"e",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"q",(function(){return u})),n.d(t,"j",(function(){return j})),n.d(t,"b",(function(){return d})),n.d(t,"l",(function(){return b})),n.d(t,"p",(function(){return O})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return x})),n.d(t,"n",(function(){return f})),n.d(t,"m",(function(){return m})),n.d(t,"o",(function(){return p})),n.d(t,"a",(function(){return g})),n.d(t,"i",(function(){return R})),n.d(t,"k",(function(){return v})),n.d(t,"f",(function(){return C}));var c=n(1),a=n(125),s=n.n(a),r="/api",l=(JSON.parse(sessionStorage.getItem("data")),function(e){if("student"===e.role){var t={matric:e.username,password:e.password,flag:e.role};return s.a.post("".concat(r,"/auth/login"),t)}if("course_operator"===e.role){var n={id:e.username,password:e.password,flag:e.role};return s.a.post("".concat(r,"/auth/login"),n)}return s.a.get("".concat(r,"/auth/login/admin"),{headers:{Authorization:"Basic ".concat(btoa("".concat(e.username,":").concat(e.password)))}})}),o=function(e){return s.a.get("".concat(r,"/student/").concat(e))},i=function(e){return s.a.get("".concat(r,"/student/get/").concat(e))},u=function(){return s.a.get("".concat(r,"/entryyear"))},j=function(e){return"student"===e.role?(delete e.role,delete e.staffId,delete e.status,s.a.post("".concat(r,"/student"),e)):(delete e.role,delete e.matricNumber,delete e.othername,delete e.yearOfEntry,delete e.status,s.a.post("".concat(r,"/courseoperator"),e))},d=function(e,t){return s.a.get("".concat(r,"/result/").concat(e,"/").concat(t))},b=function(e){return s.a.post("".concat(r,"/result"),e)},O=function(e){var t={headers:{Authorization:"Bearer ".concat(JSON.parse(sessionStorage.getItem("data")).auth)}};return s.a.post("".concat(r,"/result/course/upload"),e,t)},h=function(){return s.a.get("".concat(r,"/courseoperator"))},x=function(e){return s.a.get("".concat(r,"/courseoperator/").concat(e,"/student"),{responseType:"blob"})},f=function(e){return s.a.post("".concat(r,"/course"),e)},m=function(e){return s.a.post("".concat(r,"/courseoperator/allocate"),e)},p=function(e){return s.a.post("".concat(r,"/currentsession/course/upload"),e)},g=function(e){var t=Object(c.a)(Object(c.a)({},e),{},{startDate:Date.parse(e.startDate),closeDate:Date.parse(e.closeDate)});return s.a.post("".concat(r,"/currentsession"),t,{headers:{Authorization:"Basic ".concat(JSON.parse(sessionStorage.getItem("data")).auth)}})},R=function(e){return s.a.put("".concat(r,"/currentsession/").concat(e),{headers:{Authorization:"Basic ".concat(JSON.parse(sessionStorage.getItem("data")).auth)}})},v=function(){return s.a.get("".concat(r,"/auth/login/admin"),{headers:{Authorization:"Basic ".concat(JSON.parse(sessionStorage.getItem("data")).auth)}})},C=function(e,t){return s.a.get("".concat(r,"/auth/result/").concat(e,"/").concat(t),{headers:{Authorization:"Basic ".concat(JSON.parse(sessionStorage.getItem("data")).auth)}})}}}]);