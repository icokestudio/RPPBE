(this["webpackJsonpgogo-react"]=this["webpackJsonpgogo-react"]||[]).push([[10],{384:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(91),s=a(8),c=a(141),o=a(124),u=a(142),l=a(374),i=a(285),d=a(191),j=a(281),b=a(388),f=a(136),m=a(121),O=a(24),h=function(e){var t=Object(r.a)({},e);return delete t.autoCorrect,delete t.autoCapitalize,Object(O.jsx)(m.l.Input,Object(r.a)({},t))},p=a(211),g=a(93),x=a(102),N=a(95),v=a(94),y=a(99);t.default=function(e){e.history;var t=Object(s.useState)([]),a=Object(n.a)(t,2),m=a[0],w=a[1],S=Object(s.useState)({}),R=Object(n.a)(S,2),I=R[0],C=R[1];Object(s.useEffect)((function(){y.q().then((function(e){w(e.data)}))}),[]);var k=Object(s.useState)({emailAddress:"",role:"student",firstname:"",lastname:"",password:"",othername:"",staffId:"",matricNumber:"",yearOfEntry:null,status:!1}),A=Object(n.a)(k,2),E=A[0],_=A[1],z=Object(s.useState)(!1),J=Object(n.a)(z,2),V=J[0],D=J[1];return Object(O.jsx)(c.a,{className:"h-100",children:Object(O.jsx)(v.a,{xxs:"12",md:"10",className:"mx-auto my-auto",children:Object(O.jsxs)(o.a,{className:"auth-card",children:[Object(O.jsxs)("div",{className:"position-relative image-side ",children:[Object(O.jsx)("p",{className:"text-white h2",children:"RESULT PROCESSING MADE EASY"}),Object(O.jsxs)("p",{className:"white mb-0",children:["Please use this form to register. ",Object(O.jsx)("br",{}),"If you are a member, please"," ",Object(O.jsx)(g.b,{to:"/user/login",className:"white",children:Object(O.jsx)("u",{children:Object(O.jsx)("b",{children:"login"})})}),"."]})]}),Object(O.jsxs)("div",{className:"form-side",children:[Object(O.jsx)(g.b,{to:"/",className:"white"}),Object(O.jsx)(u.a,{className:"mb-4",children:Object(O.jsx)(N.a,{id:"user.register"})}),Object(O.jsxs)(l.a,{children:["course_operator"===E.role&&Object(O.jsxs)(i.a,{className:"form-group has-float-label  mb-4",children:[Object(O.jsx)(d.a,{children:Object(O.jsx)(N.a,{id:"user.staffId"})}),Object(O.jsx)(j.a,{type:"name",defaultValue:E.staffId,onChange:function(e){return _(Object(r.a)(Object(r.a)({},E),{},{staffId:e.target.value}))}})]}),"student"===E.role&&Object(O.jsxs)(i.a,{className:"form-group has-float-label  mb-4",children:[Object(O.jsx)(d.a,{children:Object(O.jsx)(N.a,{id:"user.MatricNumber"})}),Object(O.jsx)(j.a,{type:"name",defaultValue:E.matricNumber,onChange:function(e){return _(Object(r.a)(Object(r.a)({},E),{},{matricNumber:e.target.value}))},disabled:E.status})]}),("course_operator"===E.role||E.status)&&Object(O.jsxs)(i.a,{className:"form-group has-float-label  mb-4",children:[Object(O.jsx)(d.a,{children:Object(O.jsx)(N.a,{id:"user.firstname"})}),Object(O.jsx)(j.a,{type:"name",defaultValue:E.firstname,onChange:function(e){return _(Object(r.a)(Object(r.a)({},E),{},{firstname:e.target.value}))}})]}),("course_operator"===E.role||E.status)&&Object(O.jsxs)(i.a,{className:"form-group has-float-label  mb-4",children:[Object(O.jsx)(d.a,{children:Object(O.jsx)(N.a,{id:"user.lastname"})}),Object(O.jsx)(j.a,{type:"name",defaultValue:E.lastname,onChange:function(e){return _(Object(r.a)(Object(r.a)({},E),{},{lastname:e.target.value}))}})]}),"student"===E.role&&E.status&&Object(O.jsxs)(i.a,{className:"form-group has-float-label  mb-4",children:[Object(O.jsx)(d.a,{children:Object(O.jsx)(N.a,{id:"user.othername"})}),Object(O.jsx)(j.a,{type:"name",defaultValue:E.othername,onChange:function(e){return _(Object(r.a)(Object(r.a)({},E),{},{othername:e.target.value}))}})]}),("course_operator"===E.role||E.status)&&Object(O.jsxs)(i.a,{className:"form-group has-float-label  mb-4",children:[Object(O.jsx)(d.a,{children:"Email Address"}),Object(O.jsx)(j.a,{type:"name",defaultValue:E.emailAddress,onChange:function(e){return _(Object(r.a)(Object(r.a)({},E),{},{emailAddress:e.target.value}))}})]}),"student"===E.role&&E.status&&Object(O.jsxs)(i.a,{className:"form-group has-float-label  mb-4",children:[Object(O.jsx)(d.a,{children:Object(O.jsx)(N.a,{id:"user.yearofentry"})}),Object(O.jsx)(p.a,{components:{Input:h},className:"react-select",classNamePrefix:"react-select",name:"form-field-name",options:m.map((function(e,t){return{label:e.session.session,value:e.id,key:t}})),value:I,onChange:function(e){_(Object(r.a)(Object(r.a)({},E),{},{yearOfEntry:e.value})),C(e)}})]}),("course_operator"===E.role||E.status)&&Object(O.jsxs)(i.a,{className:"form-group has-float-label  mb-4",children:[Object(O.jsx)(d.a,{children:Object(O.jsx)(N.a,{id:"user.password"})}),Object(O.jsx)(j.a,{type:"password",defaultValue:E.password,onChange:function(e){return _(Object(r.a)(Object(r.a)({},E),{},{password:e.target.value}))}})]}),Object(O.jsx)(b.a,{type:"radio",name:"radiusRadio",id:"student",label:"Student",inline:!0,defaultChecked:"student"===E.role,onChange:function(){return _(Object(r.a)(Object(r.a)({},E),{},{role:"student"}))}}),Object(O.jsx)(b.a,{type:"radio",name:"radiusRadio",id:"course_operator",label:"Course Operator",inline:!0,defaultChecked:"course_operator"===E.role,onChange:function(){return _(Object(r.a)(Object(r.a)({},E),{},{role:"course_operator"}))}}),Object(O.jsx)("div",{className:"d-flex justify-content-end align-items-center",children:Object(O.jsxs)(f.a,{color:"primary",className:"btn-shadow btn-multiple-state ".concat(V?"show-spinner":""),size:"lg",onClick:function(){if(E.status||"student"!==E.role||(D(!0),y.g(E.matricNumber).then((function(e){if(D(!1),null===e.data.password)return _(Object(r.a)(Object(r.a)({},E),{},{status:!0})),void x.b.success("Valid Matric Number","Success",1400,null,null,"");""!==e.data?x.b.info("Student Registered Already","Information",2e3,null,null,""):x.b.error("Invalid or unknown Matric Number, please check back again","ERROR",1400,null,null,"")})).catch((function(e){D(!1),x.b.error("Invalid or unknown Matric Number, please check back again","ERROR",1400,null,null,"")}))),E.status&&"student"===E.role||"course_operator"===E.role){if(E.password.length<8)return void x.b.error("password must be greater than 7 characters","ERROR",1400,null,null,"");D(!0),y.j(E).then((function(e){D(!1),x.b.success("Registration Successful","Success",1400,null,null,""),location.replace("/user/login")})).catch((function(e){D(!1),x.b.error("registration Failed. Please check through your submitted form","ERROR",1400,null,null,"")}))}},children:[Object(O.jsxs)("span",{className:"spinner d-inline-block",children:[Object(O.jsx)("span",{className:"bounce1"}),Object(O.jsx)("span",{className:"bounce2"}),Object(O.jsx)("span",{className:"bounce3"})]}),Object(O.jsx)("span",{className:"label",children:Object(O.jsx)(N.a,{id:"student"!==E.role||E.status?"course_operator"===E.role?"user.registerco":"user.register":"user.check"})})]})})]})]})]})})})}},94:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return o}));var r=a(1),n=(a(8),a(140)),s=a(24),c=function(e){return Object(s.jsx)(n.a,Object(r.a)(Object(r.a)({},e),{},{widths:["xxs","xs","sm","md","lg","xl","xxl"]}))},o=function(e){var t=e.className;return Object(s.jsx)("div",{className:"separator ".concat(t)})}},95:function(e,t,a){"use strict";var r=a(1),n=(a(8),a(157)),s=a(115),c=a(24);t.a=Object(s.c)((function(e){return Object(c.jsx)(n.a,Object(r.a)({},e))}),{withRef:!1})},99:function(e,t,a){"use strict";a.d(t,"h",(function(){return o})),a.d(t,"e",(function(){return u})),a.d(t,"g",(function(){return l})),a.d(t,"q",(function(){return i})),a.d(t,"j",(function(){return d})),a.d(t,"b",(function(){return j})),a.d(t,"l",(function(){return b})),a.d(t,"p",(function(){return f})),a.d(t,"c",(function(){return m})),a.d(t,"d",(function(){return O})),a.d(t,"n",(function(){return h})),a.d(t,"m",(function(){return p})),a.d(t,"o",(function(){return g})),a.d(t,"a",(function(){return x})),a.d(t,"i",(function(){return N})),a.d(t,"k",(function(){return v})),a.d(t,"f",(function(){return y}));var r=a(1),n=a(125),s=a.n(n),c="/api",o=(JSON.parse(sessionStorage.getItem("data")),function(e){if("student"===e.role){var t={matric:e.username,password:e.password,flag:e.role};return s.a.post("".concat(c,"/auth/login"),t)}if("course_operator"===e.role){var a={id:e.username,password:e.password,flag:e.role};return s.a.post("".concat(c,"/auth/login"),a)}return s.a.get("".concat(c,"/auth/login/admin"),{headers:{Authorization:"Basic ".concat(btoa("".concat(e.username,":").concat(e.password)))}})}),u=function(e){return s.a.get("".concat(c,"/student/").concat(e))},l=function(e){return s.a.get("".concat(c,"/student/get/").concat(e))},i=function(){return s.a.get("".concat(c,"/entryyear"))},d=function(e){return"student"===e.role?(delete e.role,delete e.staffId,delete e.status,s.a.post("".concat(c,"/student"),e)):(delete e.role,delete e.matricNumber,delete e.othername,delete e.yearOfEntry,delete e.status,s.a.post("".concat(c,"/courseoperator"),e))},j=function(e,t){return s.a.get("".concat(c,"/result/").concat(e,"/").concat(t))},b=function(e){return s.a.post("".concat(c,"/result"),e)},f=function(e){var t={headers:{Authorization:"Bearer ".concat(JSON.parse(sessionStorage.getItem("data")).auth)}};return s.a.post("".concat(c,"/result/course/upload"),e,t)},m=function(){return s.a.get("".concat(c,"/courseoperator"))},O=function(e){return s.a.get("".concat(c,"/courseoperator/").concat(e,"/student"),{responseType:"blob"})},h=function(e){return s.a.post("".concat(c,"/course"),e)},p=function(e){return s.a.post("".concat(c,"/courseoperator/allocate"),e)},g=function(e){return s.a.post("".concat(c,"/currentsession/course/upload"),e)},x=function(e){var t=Object(r.a)(Object(r.a)({},e),{},{startDate:Date.parse(e.startDate),closeDate:Date.parse(e.closeDate)});return s.a.post("".concat(c,"/currentsession"),t,{headers:{Authorization:"Basic ".concat(JSON.parse(sessionStorage.getItem("data")).auth)}})},N=function(e){return s.a.put("".concat(c,"/currentsession/").concat(e),{headers:{Authorization:"Basic ".concat(JSON.parse(sessionStorage.getItem("data")).auth)}})},v=function(){return s.a.get("".concat(c,"/auth/login/admin"),{headers:{Authorization:"Basic ".concat(JSON.parse(sessionStorage.getItem("data")).auth)}})},y=function(e,t){return s.a.get("".concat(c,"/auth/result/").concat(e,"/").concat(t),{headers:{Authorization:"Basic ".concat(JSON.parse(sessionStorage.getItem("data")).auth)}})}}}]);